<DOCUMENT filename="index.html">
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Tracker Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white min-h-screen">
    <div id="app"></div>

    <script>
        // ======================
        // ESTADO DA APLICA√á√ÉO
        // ======================
        let state = {
            activeTab: 'dashboard',
            activeUser: 'pedro',
            users: {
                pedro: {
                    name: 'Pedro',
                    gender: 'male',
                    age: 30,
                    height: 175,
                    workoutHistory: loadData('pedro_workouts') || [],
                    mealHistory: loadData('pedro_meals') || [],
                    bodyMetrics: loadData('pedro_metrics') || [{
                        date: new Date().toISOString().split('T')[0],
                        weight: 70.65,
                        bodyFat: 19.9,
                        muscleMass: 28.9,
                        visceralFat: 8,
                        bmi: 23.1
                    }],
                    goals: { weight: 75, bodyFat: 15, muscleMass: 32 }
                },
                partner: {
                    name: 'Parceira',
                    gender: 'female',
                    age: 28,
                    height: 165,
                    workoutHistory: loadData('partner_workouts') || [],
                    mealHistory: loadData('partner_meals') || [],
                    bodyMetrics: loadData('partner_metrics') || [{
                        date: new Date().toISOString().split('T')[0],
                        weight: 58.0,
                        bodyFat: 25.0,
                        muscleMass: 21.0,
                        visceralFat: 5,
                        bmi: 21.3
                    }],
                    goals: { weight: 60, bodyFat: 22, muscleMass: 23 }
                }
            }
        };

        // ======================
        // PROGRAMAS DE TREINO
        // ======================
        const workoutPrograms = {
            male: {
                'Treino A - Push (Empurrar)': {
                    exercises: [
                        { name: 'Supino Reto', sets: '4', reps: '6-8', rest: '120s', notes: 'For√ßa base' },
                        { name: 'Supino Inclinado', sets: '3', reps: '8-12', rest: '90s', notes: 'Peito superior' },
                        { name: 'Desenvolvimento', sets: '4', reps: '8-12', rest: '90s', notes: 'Ombros' },
                        { name: 'Eleva√ß√£o Lateral', sets: '3', reps: '12-15', rest: '60s', notes: 'Deltoide lateral' },
                        { name: 'Tr√≠ceps Testa', sets: '3', reps: '10-12', rest: '60s', notes: 'Massa' },
                        { name: 'Tr√≠ceps Corda', sets: '3', reps: '12-15', rest: '60s', notes: 'Defini√ß√£o' }
                    ],
                    duration: '50-60 min',
                    volume: '20 s√©ries'
                },
                'Treino B - Pull (Puxar)': {
                    exercises: [
                        { name: 'Barra Fixa', sets: '4', reps: '6-10', rest: '120s', notes: 'For√ßa' },
                        { name: 'Remada Curvada', sets: '4', reps: '8-12', rest: '90s', notes: 'Espessura' },
                        { name: 'Remada Sentado', sets: '3', reps: '10-12', rest: '75s', notes: 'Detalhes' },
                        { name: 'Pullover', sets: '3', reps: '12-15', rest: '60s', notes: 'Amplitude' },
                        { name: 'Rosca Direta', sets: '3', reps: '8-12', rest: '60s', notes: 'B√≠ceps' },
                        { name: 'Rosca Martelo', sets: '3', reps: '10-12', rest: '60s', notes: 'Braquial' }
                    ],
                    duration: '50-60 min',
                    volume: '20 s√©ries'
                },
                'Treino C - Legs (Pernas)': {
                    exercises: [
                        { name: 'Agachamento', sets: '4', reps: '6-10', rest: '150s', notes: 'Rei dos exerc√≠cios' },
                        { name: 'Leg Press', sets: '3', reps: '10-15', rest: '90s', notes: 'Volume' },
                        { name: 'Stiff', sets: '4', reps: '8-12', rest: '90s', notes: 'Posterior' },
                        { name: 'Extensora', sets: '3', reps: '12-15', rest: '60s', notes: 'Isolamento quad' },
                        { name: 'Flexora', sets: '3', reps: '12-15', rest: '60s', notes: 'Posterior isolado' },
                        { name: 'Panturrilha', sets: '4', reps: '15-20', rest: '45s', notes: 'Resist√™ncia' }
                    ],
                    duration: '60-70 min',
                    volume: '21 s√©ries'
                }
            },
            female: {
                'Treino A - Inferior Completo': {
                    exercises: [
                        { name: 'Agachamento', sets: '4', reps: '10-15', rest: '90s', notes: 'Base principal' },
                        { name: 'Stiff', sets: '4', reps: '12-15', rest: '75s', notes: 'Posterior' },
                        { name: 'Afundo B√∫lgaro', sets: '3', reps: '12-15/lado', rest: '60s', notes: 'Unilateral' },
                        { name: 'Abdutora', sets: '4', reps: '15-20', rest: '60s', notes: 'Gl√∫teo m√©dio' },
                        { name: 'Flexora', sets: '3', reps: '12-15', rest: '60s', notes: 'Posterior' },
                        { name: 'Panturrilha', sets: '4', reps: '15-20', rest: '45s', notes: 'Resist√™ncia' }
                    ],
                    duration: '55-65 min',
                    volume: '22 s√©ries'
                },
                'Treino B - Superior Completo': {
                    exercises: [
                        { name: 'Supino Reto', sets: '3', reps: '10-12', rest: '90s', notes: 'Peito' },
                        { name: 'Remada Curvada', sets: '3', reps: '10-12', rest: '90s', notes: 'Costas' },
                        { name: 'Desenvolvimento', sets: '3', reps: '10-12', rest: '75s', notes: 'Ombros' },
                        { name: 'Puxada Frente', sets: '3', reps: '10-12', rest: '75s', notes: 'Dorsais' },
                        { name: 'Rosca B√≠ceps', sets: '3', reps: '12-15', rest: '60s', notes: 'B√≠ceps' },
                        { name: 'Tr√≠ceps Corda', sets: '3', reps: '12-15', rest: '60s', notes: 'Tr√≠ceps' }
                    ],
                    duration: '50-60 min',
                    volume: '18 s√©ries'
                },
                'Treino C - Gl√∫teos √änfase': {
                    exercises: [
                        { name: 'Hip Thrust', sets: '4', reps: '12-15', rest: '90s', notes: 'Melhor p/ gl√∫teos' },
                        { name: 'Leg Press (p√©s altos)', sets: '4', reps: '12-15', rest: '90s', notes: 'Gl√∫teos + quad' },
                        { name: 'Extensora', sets: '3', reps: '15-20', rest: '60s', notes: 'Quadr√≠ceps' },
                        { name: 'Abdutora', sets: '4', reps: '15-20', rest: '60s', notes: 'Gl√∫teo m√©dio' },
                        { name: 'Gl√∫teo 4 Apoios', sets: '3', reps: '15-20/lado', rest: '45s', notes: 'Isolamento' },
                        { name: 'Eleva√ß√£o P√©lvica', sets: '3', reps: '15-20', rest: '45s', notes: 'Finaliza√ß√£o' }
                    ],
                    duration: '50-60 min',
                    volume: '21 s√©ries'
                }
            }
        };

        // ======================
        // MARMITAS LIV UP (ATUALIZADO COM MENU RECENTE)
        // ======================
        const livUpMarmitas = [
            { name: 'Frango cremoso, arroz, feij√£o e br√≥colis no vapor', category: 'Dia a dia', size: '300g', kcal: '', prot: '' },
            { name: 'Alm√¥ndega de frango, arroz 7 gr√£os', category: 'Baixa caloria at√© 350kcal', size: '300g', kcal: '', prot: '' },
            { name: 'Feijoada light', category: 'Dia a dia', size: '300g', kcal: '', prot: '' },
            { name: 'Carne louca com pur√™ de mandioquinha', category: 'Dia a dia', size: '300g', kcal: '', prot: '' },
            { name: 'Frango grelhado com legumes', category: 'Baixa caloria', size: '300g', kcal: '', prot: '' },
            { name: 'Salm√£o com quinoa e vegetais', category: 'Premium', size: '300g', kcal: '', prot: '' },
            { name: 'Bife de soja com arroz integral', category: 'Vegetariano', size: '300g', kcal: '', prot: '' },
            { name: 'Picadinho de carne com batata doce', category: 'Dia a dia', size: '300g', kcal: '', prot: '' },
            { name: 'Omelete de legumes com salada', category: 'Baixa caloria', size: '300g', kcal: '', prot: '' },
            { name: 'Peito de peru com couscous marroquino', category: 'Dia a dia', size: '300g', kcal: '', prot: '' },
            { name: 'Frango com lim√£o siciliano, arroz jasmim e br√≥colis', category: 'Dia a dia', size: '', kcal: '444', prot: '36g' },
            { name: 'Saint peter com cebolinha, arroz jasmim e cenoura', category: 'Dia a dia', size: '', kcal: '426', prot: '25g' },
            { name: 'Falafel, couscous e legumes mediterr√¢neos', category: 'Vegetariano', size: '', kcal: '', prot: '' },
            { name: 'Lentilha pomodoro, arroz de jasmim e br√≥colis', category: 'Vegetariano', size: '', kcal: '', prot: '' },
            { name: 'Estrogonofe de cogumelo, arroz integral', category: 'Vegetariano', size: '', kcal: '', prot: '' },
            { name: 'Iscas de fil√© mignon acebolado', category: 'Premium', size: '', kcal: '', prot: '' },
            { name: 'Posta de salm√£o assado', category: 'Premium', size: '', kcal: '', prot: '' },
            { name: 'Bolinha low carb de ab√≥bora e carne com chia', category: 'Low Carb', size: '', kcal: '', prot: '' },
            { name: 'Frango oriental, arroz com am√™ndoas e legumes', category: 'Performance', size: '580g', kcal: '', prot: '' },
            { name: 'Carne mo√≠da, arroz e vegetais', category: 'Performance', size: '580g', kcal: '', prot: '' }
        ];

        // ======================
        // FUN√á√ïES AUXILIARES
        // ======================
        function saveData(key, data) {
            localStorage.setItem(key, JSON.stringify(data));
        }

        function loadData(key) {
            const data = localStorage.getItem(key);
            return data ? JSON.parse(data) : null;
        }

        function updateState(newState) {
            state = { ...state, ...newState };
            saveData('pedro_workouts', state.users.pedro.workoutHistory);
            saveData('pedro_metrics', state.users.pedro.bodyMetrics);
            saveData('pedro_meals', state.users.pedro.mealHistory);
            saveData('partner_workouts', state.users.partner.workoutHistory);
            saveData('partner_metrics', state.users.partner.bodyMetrics);
            saveData('partner_meals', state.users.partner.mealHistory);
            render();
        }

        // ======================
        // HANDLERS
        // ======================
        function handleTabChange(tab) {
            state.activeTab = tab;
            render();
        }

        function handleUserChange(user) {
            state.activeUser = user;
            render();
        }

        function handleLogWorkout(workoutName) {
            const newLog = {
                id: Date.now(),
                date: new Date().toISOString().split('T')[0],
                time: new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' }),
                workout: workoutName,
                completed: true
            };
            
            state.users[state.activeUser].workoutHistory.unshift(newLog);
            updateState(state);
            alert('‚úÖ Treino registrado com sucesso! üí™');
        }

        function handleDeleteWorkout(id) {
            const userHistory = state.users[state.activeUser].workoutHistory;
            state.users[state.activeUser].workoutHistory = userHistory.filter(log => log.id !== id);
            updateState(state);
            alert('‚ùå Treino deletado!');
        }

        function handleLogMeal(mealName) {
            const newLog = {
                id: Date.now(),
                date: new Date().toISOString().split('T')[0],
                time: new Date().toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' }),
                meal: mealName
            };
            
            state.users[state.activeUser].mealHistory.unshift(newLog);
            updateState(state);
            alert('‚úÖ Refei√ß√£o registrada com sucesso! üç≤');
        }

        function handleAddMetrics(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            const weight = parseFloat(formData.get('weight'));
            const height = state.users[state.activeUser].height / 100;
            
            const newMetric = {
                date: formData.get('date'),
                weight: weight,
                bodyFat: parseFloat(formData.get('bodyFat')),
                muscleMass: parseFloat(formData.get('muscleMass')),
                visceralFat: parseInt(formData.get('visceralFat')),
                bmi: parseFloat((weight / (height * height)).toFixed(1))
            };
            
            state.users[state.activeUser].bodyMetrics.push(newMetric);
            state.users[state.activeUser].bodyMetrics.sort((a, b) => new Date(a.date) - new Date(b.date));
            updateState(state);
            e.target.reset();
            alert('üìä M√©tricas adicionadas!');
        }

        function handleUpdatePartner(e) {
            e.preventDefault();
            const formData = new FormData(e.target);
            state.users.partner.name = formData.get('name');
            state.users.partner.age = parseInt(formData.get('age'));
            state.users.partner.height = parseInt(formData.get('height'));
            updateState(state);
            alert('‚úÖ Dados da parceira atualizados!');
        }

        // ======================
        // RENDER
        // ======================
        function render() {
            const app = document.getElementById('app');
            const currentUser = state.users[state.activeUser];
            const workoutHistory = currentUser.workoutHistory;
            const mealHistory = currentUser.mealHistory;
            const bodyMetrics = currentUser.bodyMetrics;
            const latestMetrics = bodyMetrics[bodyMetrics.length - 1];
            const workoutProgram = workoutPrograms[currentUser.gender];

            app.innerHTML = `
                <!-- Header -->
                <header class="bg-black/40 backdrop-blur-lg border-b border-purple-500/30 sticky top-0 z-50">
                    <div class="max-w-7xl mx-auto px-4 py-4">
                        <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                            <div>
                                <h1 class="text-3xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent">
                                    üí™ Fitness Tracker Pro
                                </h1>
                                <p class="text-purple-300 text-sm mt-1">Baseado em evid√™ncias cient√≠ficas 2025</p>
                            </div>
                            
                            <div class="flex gap-2">
                                <button onclick="handleUserChange('pedro')" class="px-6 py-2 rounded-lg font-semibold transition-all ${
                                    state.activeUser === 'pedro'
                                        ? 'bg-blue-500 text-white shadow-lg shadow-blue-500/50'
                                        : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                                }">
                                    üë® ${state.users.pedro.name}
                                </button>
                                <button onclick="handleUserChange('partner')" class="px-6 py-2 rounded-lg font-semibold transition-all ${
                                    state.activeUser === 'partner'
                                        ? 'bg-pink-500 text-white shadow-lg shadow-pink-500/50'
                                        : 'bg-slate-700 text-slate-300 hover:bg-slate-600'
                                }">
                                    üë© ${state.users.partner.name}
                                </button>
                            </div>
                        </div>
                    </div>
                </header>

                <!-- Navigation -->
                <div class="max-w-7xl mx-auto px-4 py-6">
                    <div class="flex flex-wrap gap-3">
                        ${[
                            { id: 'dashboard', icon: 'üìä', label: 'Dashboard' },
                            { id: 'treino', icon: 'üèãÔ∏è', label: 'Treinos' },
                            { id: 'nutricao', icon: 'üçé', label: 'Nutri√ß√£o' },
                            { id: 'alimentacao', icon: 'üç≤', label: 'Alimenta√ß√£o' },
                            { id: 'evolucao', icon: 'üìà', label: 'Evolu√ß√£o' },
                            { id: 'comparacao', icon: '‚öñÔ∏è', label: 'Compara√ß√£o' },
                            { id: 'ciencia', icon: 'üî¨', label: 'Ci√™ncia' }
                        ].map(tab => `
                            <button onclick="handleTabChange('${tab.id}')" class="px-6 py-3 rounded-xl font-semibold transition-all ${
                                state.activeTab === tab.id
                                    ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-xl shadow-purple-500/50 scale-105'
                                    : 'bg-slate-800/50 text-slate-300 hover:bg-slate-700/50 border border-slate-700'
                            }">
                                ${tab.icon} ${tab.label}
                            </button>
                        `).join('')}
                    </div>
                </div>

                <!-- Main Content -->
                <main class="max-w-7xl mx-auto px-4 pb-12">
                    ${state.activeTab === 'dashboard' ? renderDashboard(currentUser, workoutHistory, latestMetrics) : ''}
                    ${state.activeTab === 'treino' ? renderTreino(workoutProgram, currentUser) : ''}
                    ${state.activeTab === 'nutricao' ? renderNutricao(currentUser) : ''}
                    ${state.activeTab === 'alimentacao' ? renderAlimentacao(mealHistory, currentUser) : ''}
                    ${state.activeTab === 'evolucao' ? renderEvolucao(bodyMetrics, currentUser) : ''}
                    ${state.activeTab === 'comparacao' ? renderComparacao() : ''}
                    ${state.activeTab === 'ciencia' ? renderCiencia() : ''}
                </main>

                <!-- Footer -->
                <footer class="bg-black/60 backdrop-blur-lg border-t border-purple-500/30 py-8 mt-12">
                    <div class="max-w-7xl mx-auto px-4 text-center">
                        <p class="text-slate-400">Desenvolvido com base em evid√™ncias cient√≠ficas</p>
                        <p class="text-slate-500 text-sm mt-2">Schoenfeld et al. (2025) ‚Ä¢ Frontera et al. (2025) ‚Ä¢ Damas et al. (2025)</p>
                    </div>
                </footer>
            `;

            // Adicionar event listeners para forms
            const metricsForm = document.getElementById('metricsForm');
            if (metricsForm) {
                metricsForm.addEventListener('submit', handleAddMetrics);
            }

            const partnerForm = document.getElementById('partnerForm');
            if (partnerForm) {
                partnerForm.addEventListener('submit', handleUpdatePartner);
            }
        }

        function renderDashboard(currentUser, workoutHistory, latestMetrics) {
            return `
                <div class="space-y-6">
                    <!-- Cards de resumo -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-2xl p-6 text-white shadow-xl">
                            <p class="text-blue-200 text-sm mb-2">PESO ATUAL</p>
                            <p class="text-4xl font-bold">${latestMetrics.weight} kg</p>
                            <p class="text-blue-200 text-xs mt-2">Meta: ${currentUser.goals.weight}kg</p>
                        </div>
                        <div class="bg-gradient-to-br from-red-600 to-red-800 rounded-2xl p-6 text-white shadow-xl">
                            <p class="text-red-200 text-sm mb-2">GORDURA</p>
                            <p class="text-4xl font-bold">${latestMetrics.bodyFat}%</p>
                            <p class="text-red-200 text-xs mt-2">Meta: ${currentUser.goals.bodyFat}%</p>
                        </div>
                        <div class="bg-gradient-to-br from-green-600 to-green-800 rounded-2xl p-6 text-white shadow-xl">
                            <p class="text-green-200 text-sm mb-2">MASSA MUSCULAR</p>
                            <p class="text-4xl font-bold">${latestMetrics.muscleMass} kg</p>
                            <p class="text-green-200 text-xs mt-2">Meta: ${currentUser.goals.muscleMass}kg</p>
                        </div>
                        <div class="bg-gradient-to-br from-purple-600 to-purple-800 rounded-2xl p-6 text-white shadow-xl">
                            <p class="text-purple-200 text-sm mb-2">TREINOS</p>
                            <p class="text-4xl font-bold">${workoutHistory.length}</p>
                            <p class="text-purple-200 text-xs mt-2">Total registrados</p>
                        </div>
                    </div>

                    <!-- √öltimos treinos -->
                    <div class="bg-slate-800/50 backdrop-blur-lg border border-slate-700 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-white mb-4">üî• √öltimos Treinos</h3>
                        ${workoutHistory.length === 0 ? `
                            <p class="text-slate-400 text-center py-8">Nenhum treino registrado ainda. V√° para a aba Treinos!</p>
                        ` : `
                            <div class="space-y-3">
                                ${workoutHistory.slice(0, 5).map(log => `
                                    <div class="bg-slate-700/50 p-4 rounded-xl border-l-4 border-purple-500 flex justify-between items-center">
                                        <div>
                                            <p class="text-white font-semibold">${log.workout}</p>
                                            <p class="text-slate-400 text-sm">${log.date} - ${log.time}</p>
                                        </div>
                                        <div class="flex items-center gap-2">
                                            <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm">‚úÖ</span>
                                            <button onclick="handleDeleteWorkout(${log.id})" class="text-red-400 hover:text-red-300">‚ùå</button>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `}
                    </div>
                </div>
            `;
        }

        function renderTreino(workoutProgram, currentUser) {
            return `
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-6 text-white shadow-2xl">
                        <h2 class="text-3xl font-bold mb-2">
                            üèãÔ∏è Programa ${currentUser.gender === 'male' ? 'ABC Masculino' : 'ABC Feminino'}
                        </h2>
                        <p class="text-purple-200">
                            ${currentUser.gender === 'male' 
                                ? 'Foco em for√ßa e hipertrofia - 3x/semana - 15-20 s√©ries/grupo'
                                : 'Maior volume inferior - 3x/semana - 20-25 s√©ries/grupo'
                            }
                        </p>
                    </div>

                    ${Object.entries(workoutProgram).map(([name, workout]) => `
                        <div class="bg-slate-800/50 backdrop-blur-lg border border-slate-700 rounded-2xl overflow-hidden">
                            <div class="bg-gradient-to-r from-indigo-600 to-purple-600 p-5">
                                <div class="flex flex-col md:flex-row justify-between items-start gap-4">
                                    <div>
                                        <h3 class="text-xl font-bold text-white">${name}</h3>
                                        <div class="flex flex-wrap gap-4 mt-2 text-sm text-indigo-200">
                                            <span>‚è±Ô∏è ${workout.duration}</span>
                                            <span>üìä ${workout.volume}</span>
                                        </div>
                                    </div>
                                    <button
                                        onclick="handleLogWorkout('${name}')"
                                        class="bg-white text-indigo-600 px-5 py-2 rounded-xl font-bold hover:bg-indigo-50 transition shadow-lg"
                                    >
                                        ‚úÖ Registrar Treino
                                    </button>
                                </div>
                            </div>
                            <div class="p-5 overflow-x-auto">
                                <table class="w-full">
                                    <thead>
                                        <tr class="border-b-2 border-slate-700">
                                            <th class="text-left py-3 px-3 text-slate-300 font-semibold">Exerc√≠cio</th>
                                            <th class="text-center py-3 px-3 text-slate-300 font-semibold">S√©ries</th>
                                            <th class="text-center py-3 px-3 text-slate-300 font-semibold">Reps</th>
                                            <th class="text-center py-3 px-3 text-slate-300 font-semibold">Descanso</th>
                                            <th class="text-left py-3 px-3 text-slate-300 font-semibold">Notas</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${workout.exercises.map(ex => `
                                            <tr class="border-b border-slate-700/50 hover:bg-slate-700/30">
                                                <td class="py-3 px-3 text-white font-medium">${ex.name}</td>
                                                <td class="py-3 px-3 text-center text-purple-400 font-bold">${ex.sets}</td>
                                                <td class="py-3 px-3 text-center text-purple-400 font-bold">${ex.reps}</td>
                                                <td class="py-3 px-3 text-center text-slate-400">${ex.rest}</td>
                                                <td class="py-3 px-3 text-slate-400 text-sm">${ex.notes}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    `).join('')}

                    <div class="bg-blue-900/30 border-l-4 border-blue-500 p-6 rounded-xl backdrop-blur">
                        <h4 class="font-bold text-blue-300 mb-3 text-lg">üí° Princ√≠pios Cient√≠ficos:</h4>
                        <ul class="space-y-2 text-blue-200">
                            <li>‚úì <strong>Volume:</strong> ${currentUser.gender === 'male' ? '15-20' : '20-25'} s√©ries/grupo/semana</li>
                            <li>‚úì <strong>Frequ√™ncia:</strong> 2x/semana cada grupo muscular</li>
                            <li>‚úì <strong>Intensidade:</strong> ${currentUser.gender === 'male' ? '70-85% 1RM' : '65-80% 1RM'}</li>
                            <li>‚úì <strong>Progress√£o:</strong> Aumente carga quando completar o topo da faixa de reps</li>
                            ${currentUser.gender === 'female' ? '<li>‚úì <strong>Recupera√ß√£o:</strong> Mulheres recuperam 30-50% mais r√°pido</li>' : ''}
                        </ul>
                    </div>
                </div>
            `;
        }

        function renderNutricao(currentUser) {
            const nutrition = currentUser.gender === 'male' 
                ? { target: 2000, protein: '140-160g', carbs: '220-250g', fats: '55-65g', surplus: 400 }
                : { target: 1700, protein: '95-105g', carbs: '180-200g', fats: '50-60g', surplus: 300 };

            return `
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-green-600 to-emerald-600 rounded-2xl p-6 text-white shadow-2xl">
                        <h2 class="text-3xl font-bold mb-4">üçé Plano Nutricional Personalizado</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="bg-white/20 rounded-xl p-4 backdrop-blur">
                                <p class="text-green-200 text-sm">Meta Cal√≥rica</p>
                                <p class="text-3xl font-bold">${nutrition.target}</p>
                                <p class="text-xs text-green-200">kcal/dia</p>
                            </div>
                            <div class="bg-white/20 rounded-xl p-4 backdrop-blur">
                                <p class="text-green-200 text-sm">Prote√≠na</p>
                                <p class="text-2xl font-bold">${nutrition.protein}</p>
                                <p class="text-xs text-green-200">${currentUser.gender === 'male' ? '2.0g/kg' : '1.7g/kg'}</p>
                            </div>
                            <div class="bg-white/20 rounded-xl p-4 backdrop-blur">
                                <p class="text-green-200 text-sm">Super√°vit</p>
                                <p class="text-3xl font-bold">+${nutrition.surplus}</p>
                                <p class="text-xs text-green-200">kcal/dia</p>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-blue-900/30 border border-blue-700 rounded-2xl p-6 backdrop-blur">
                            <p class="text-blue-400 font-bold mb-2">PROTE√çNA</p>
                            <p class="text-3xl font-bold text-white">${nutrition.protein}</p>
                            <p class="text-blue-300 text-sm mt-2">Constru√ß√£o muscular</p>
                        </div>
                        <div class="bg-orange-900/30 border border-orange-700 rounded-2xl p-6 backdrop-blur">
                            <p class="text-orange-400 font-bold mb-2">CARBOIDRATOS</p>
                            <p class="text-3xl font-bold text-white">${nutrition.carbs}</p>
                            <p class="text-orange-300 text-sm mt-2">Energia treinos</p>
                        </div>
                        <div class="bg-yellow-900/30 border border-yellow-700 rounded-2xl p-6 backdrop-blur">
                            <p class="text-yellow-400 font-bold mb-2">GORDURAS</p>
                            <p class="text-3xl font-bold text-white">${nutrition.fats}</p>
                            <p class="text-yellow-300 text-sm mt-2">Horm√¥nios</p>
                        </div>
                    </div>

                    ${currentUser.gender === 'female' ? `
                        <div class="bg-pink-900/30 border-l-4 border-pink-500 p-6 rounded-xl backdrop-blur">
                            <h4 class="font-bold text-pink-300 mb-3 text-lg">üå∏ Ciclo Menstrual:</h4>
                            <ul class="space-y-2 text-pink-200 text-sm">
                                <li>‚úì Fase Folicular (dias 1-14): Melhor for√ßa - treinos pesados</li>
                                <li>‚úì Fase L√∫tea (dias 15-28): +10-15% carboidratos - mais fome</li>
                                <li>‚úì Menstrua√ß√£o: Reduza intensidade se necess√°rio</li>
                            </ul>
                        </div>
                    ` : ''}

                    <div class="bg-purple-900/30 border-l-4 border-purple-500 p-6 rounded-xl backdrop-blur">
                        <h4 class="font-bold text-purple-300 mb-3 text-lg">üíä Suplementa√ß√£o:</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2 text-purple-200 text-sm">
                            <div>‚úì Whey Protein (1-2x/dia)</div>
                            <div>‚úì Creatina (5g/dia)</div>
                            <div>‚úì Vitamina D3 (2000-4000 UI)</div>
                            <div>‚úì √îmega-3 (1-2g/dia)</div>
                            ${currentUser.gender === 'female' ? '<div>‚úì Ferro (se necess√°rio)</div>' : ''}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderAlimentacao(mealHistory, currentUser) {
            return `
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-orange-600 to-yellow-600 rounded-2xl p-6 text-white shadow-2xl">
                        <h2 class="text-3xl font-bold mb-2">üç≤ Alimenta√ß√£o - Liv Up</h2>
                        <p class="text-orange-200">Registre suas marmitas consumidas do dia (menu atualizado 2025)</p>
                    </div>

                    <!-- Lista de Marmitas -->
                    <div class="bg-slate-800/50 backdrop-blur-lg border border-slate-700 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-white mb-4">üìã Marmitas Dispon√≠veis</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            ${livUpMarmitas.map(meal => `
                                <div class="bg-slate-700/50 p-4 rounded-xl flex justify-between items-center">
                                    <div>
                                        <p class="text-white font-semibold">${meal.name}</p>
                                        <p class="text-slate-400 text-sm">${meal.category} - ${meal.size} ${meal.kcal ? `- ${meal.kcal} kcal, ${meal.prot} prot` : ''}</p>
                                    </div>
                                    <button onclick="handleLogMeal('${meal.name}')" class="bg-orange-500 text-white px-4 py-2 rounded-lg font-bold hover:bg-orange-400">
                                        ‚úÖ Registrar
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                    </div>

                    <!-- Hist√≥rico de Refei√ß√µes -->
                    <div class="bg-slate-800/50 backdrop-blur-lg border border-slate-700 rounded-2xl p-6">
                        <h3 class="text-2xl font-bold text-white mb-4">üìÖ Hist√≥rico de Refei√ß√µes</h3>
                        ${mealHistory.length === 0 ? `
                            <p class="text-slate-400 text-center py-8">Nenhuma refei√ß√£o registrada ainda.</p>
                        ` : `
                            <div class="space-y-3">
                                ${mealHistory.slice(0, 10).map(log => `
                                    <div class="bg-slate-700/50 p-4 rounded-xl border-l-4 border-orange-500">
                                        <div class="flex justify-between items-center">
                                            <div>
                                                <p class="text-white font-semibold">${log.meal}</p>
                                                <p class="text-slate-400 text-sm">${log.date} - ${log.time}</p>
                                            </div>
                                            <span class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm">‚úÖ</span>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        `}
                    </div>
                </div>
            `;
        }

        function renderEvolucao(bodyMetrics, currentUser) {
            return `
                <div class="space-y-6">
                    <div class="bg-slate-800/50 border border-slate-700 rounded-2xl p-6 backdrop-blur">
                        <h2 class="text-2xl font-bold text-white mb-4">üìà Adicionar Novas Medidas</h2>
                        <form id="metricsForm" class="grid grid-cols-2 md:grid-cols-6 gap-4">
                            <input type="date" name="date" required value="${new Date().toISOString().split('T')[0]}"
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white">
                            <input type="number" name="weight" step="0.1" placeholder="Peso (kg)" required
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400">
                            <input type="number" name="bodyFat" step="0.1" placeholder="Gordura %" required
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400">
                            <input type="number" name="muscleMass" step="0.1" placeholder="Massa (kg)" required
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400">
                            <input type="number" name="visceralFat" placeholder="G.Visceral" required
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white placeholder-slate-400">
                            <button type="submit"
                                class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-xl font-bold hover:shadow-lg transition">
                                ‚ûï Adicionar
                            </button>
                        </form>
                    </div>

                    ${bodyMetrics.length > 1 ? `
                        <div class="bg-slate-800/50 border border-slate-700 rounded-2xl p-6 backdrop-blur">
                            <h3 class="text-xl font-bold text-white mb-4">üìä Hist√≥rico de Medidas</h3>
                            <div class="overflow-x-auto">
                                <table class="w-full text-sm">
                                    <thead>
                                        <tr class="border-b border-slate-700">
                                            <th class="text-left py-2 px-3 text-slate-300">Data</th>
                                            <th class="text-center py-2 px-3 text-slate-300">Peso</th>
                                            <th class="text-center py-2 px-3 text-slate-300">Gordura</th>
                                            <th class="text-center py-2 px-3 text-slate-300">Massa</th>
                                            <th class="text-center py-2 px-3 text-slate-300">IMC</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${bodyMetrics.slice().reverse().map(m => `
                                            <tr class="border-b border-slate-700/50">
                                                <td class="py-2 px-3 text-white">${m.date}</td>
                                                <td class="py-2 px-3 text-center text-blue-400">${m.weight}kg</td>
                                                <td class="py-2 px-3 text-center text-red-400">${m.bodyFat}%</td>
                                                <td class="py-2 px-3 text-center text-green-400">${m.muscleMass}kg</td>
                                                <td class="py-2 px-3 text-center text-purple-400">${m.bmi}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function renderComparacao() {
            const pedroLatest = state.users.pedro.bodyMetrics[state.users.pedro.bodyMetrics.length - 1];
            const partnerLatest = state.users.partner.bodyMetrics[state.users.partner.bodyMetrics.length - 1];

            return `
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl p-6 text-white shadow-2xl">
                        <h2 class="text-3xl font-bold mb-2">‚öñÔ∏è Compara√ß√£o entre Usu√°rios</h2>
                        <p class="text-purple-200">An√°lise comparativa baseada em diferen√ßas fisiol√≥gicas</p>
                    </div>

                    <div class="bg-slate-800/50 border border-slate-700 rounded-2xl p-6 backdrop-blur">
                        <h3 class="text-xl font-bold text-white mb-4">üë© Atualizar Dados da Parceira</h3>
                        <form id="partnerForm" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <input type="text" name="name" value="${state.users.partner.name}" placeholder="Nome"
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white">
                            <input type="number" name="age" value="${state.users.partner.age}" placeholder="Idade"
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white">
                            <input type="number" name="height" value="${state.users.partner.height}" placeholder="Altura (cm)"
                                class="px-4 py-3 bg-slate-700 border border-slate-600 rounded-xl text-white">
                            <button type="submit"
                                class="bg-gradient-to-r from-pink-600 to-purple-600 text-white px-6 py-3 rounded-xl font-bold">
                                Atualizar
                            </button>
                        </form>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-blue-900/30 border border-blue-700 rounded-2xl p-6 backdrop-blur">
                            <h4 class="text-xl font-bold text-blue-300 mb-4">üë® ${state.users.pedro.name}</h4>
                            <div class="space-y-2 text-blue-200">
                                <p>üìä Treinos: ${state.users.pedro.workoutHistory.length}</p>
                                <p>‚öñÔ∏è Peso: ${pedroLatest.weight}kg</p>
                                <p>üí™ Massa: ${pedroLatest.muscleMass}kg</p>
                                <p>üìâ Gordura: ${pedroLatest.bodyFat}%</p>
                                <p>üìè IMC: ${pedroLatest.bmi}</p>
                            </div>
                        </div>
                        <div class="bg-pink-900/30 border border-pink-700 rounded-2xl p-6 backdrop-blur">
                            <h4 class="text-xl font-bold text-pink-300 mb-4">üë© ${state.users.partner.name}</h4>
                            <div class="space-y-2 text-pink-200">
                                <p>üìä Treinos: ${state.users.partner.workoutHistory.length}</p>
                                <p>‚öñÔ∏è Peso: ${partnerLatest.weight}kg</p>
                                <p>üí™ Massa: ${partnerLatest.muscleMass}kg</p>
                                <p>üìâ Gordura: ${partnerLatest.bodyFat}%</p>
                                <p>üìè IMC: ${partnerLatest.bmi}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderCiencia() {
            return `
                <div class="space-y-6">
                    <div class="bg-gradient-to-r from-purple-600 to-indigo-600 rounded-2xl p-6 text-white shadow-2xl">
                        <h2 class="text-3xl font-bold mb-2">üî¨ Base Cient√≠fica do Programa</h2>
                        <p class="text-purple-200">Diferen√ßas fisiol√≥gicas e adapta√ß√µes ao treinamento (Atualizado com evid√™ncias de 2025)</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-blue-900/30 border border-blue-700 rounded-2xl p-6 backdrop-blur">
                            <h3 class="text-2xl font-bold text-blue-300 mb-4">üë® Fisiologia Masculina</h3>
                            <div class="space-y-3 text-blue-200 text-sm">
                                <div><strong class="text-white">Testosterona:</strong> 300-1000 ng/dL</div>
                                <div><strong class="text-white">Fibras:</strong> 52-55% Tipo II (for√ßa)</div>
                                <div><strong class="text-white">Recupera√ß√£o:</strong> 48-72h</div>
                                <div><strong class="text-white">Prote√≠na:</strong> 2.0-2.2g/kg</div>
                                <div class="pt-3 border-t border-blue-700">
                                    <strong class="text-white">Vantagens:</strong>
                                    <ul class="mt-2 space-y-1 pl-4">
                                        <li>‚úì Maior hipertrofia</li>
                                        <li>‚úì For√ßa absoluta superior</li>
                                        <li>‚úì Mais massa natural</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="bg-pink-900/30 border border-pink-700 rounded-2xl p-6 backdrop-blur">
                            <h3 class="text-2xl font-bold text-pink-300 mb-4">üë© Fisiologia Feminina</h3>
                            <div class="space-y-3 text-pink-200 text-sm">
                                <div><strong class="text-white">Testosterona:</strong> 15-70 ng/dL</div>
                                <div><strong class="text-white">Fibras:</strong> 50-52% Tipo I (resist√™ncia)</div>
                                <div><strong class="text-white">Recupera√ß√£o:</strong> 24-48h</div>
                                <div><strong class="text-white">Prote√≠na:</strong> 1.6-1.8g/kg</div>
                                <div class="pt-3 border-t border-pink-700">
                                    <strong class="text-white">Vantagens:</strong>
                                    <ul class="mt-2 space-y-1 pl-4">
                                        <li>‚úì Maior resist√™ncia √† fadiga</li>
                                        <li>‚úì Recupera√ß√£o 30-50% mais r√°pida</li>
                                        <li>‚úì Melhor oxida√ß√£o de gorduras</li>
                                        <li>‚úì Pode treinar com mais frequ√™ncia</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 border border-slate-700 rounded-2xl p-6 backdrop-blur">
                        <h3 class="text-2xl font-bold text-white mb-4">üìö Principais Estudos Recentes (2024-2025)</h3>
                        <div class="space-y-3 text-slate-300 text-sm">
                            <div class="border-l-4 border-purple-500 pl-4">
                                <p class="font-bold text-white">Schoenfeld et al. (2025)</p>
                                <p>"New Study Could Change Approach to Strength Training" - Journal of Applied Physiology</p>
                            </div>
                            <div class="border-l-4 border-pink-500 pl-4">
                                <p class="font-bold text-white">Frontera et al. (2025)</p>
                                <p>"Resistance training beyond momentary failure: the effects of past..." - Frontiers in Psychology</p>
                            </div>
                            <div class="border-l-4 border-blue-500 pl-4">
                                <p class="font-bold text-white">Damas et al. (2025)</p>
                                <p>"Effects of strength training on neuromuscular adaptations in..." - Nature Scientific Reports</p>
                            </div>
                            <div class="border-l-4 border-green-500 pl-4">
                                <p class="font-bold text-white">Enes et al. (2025)</p>
                                <p>"Training volume increases or maintenance based on previous..." - Journal of Applied Physiology</p>
                            </div>
                            <div class="border-l-4 border-yellow-500 pl-4">
                                <p class="font-bold text-white">Kassiano et al. (2025)</p>
                                <p>"The impact of resistance training on gluteus maximus hypertrophy" - PMC</p>
                            </div>
                            <div class="border-l-4 border-red-500 pl-4">
                                <p class="font-bold text-white">Refalo et al. (2025)</p>
                                <p>"Nutritional interventions in muscle hypertrophy research: a..." - JHPN</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Initial render
        render();
    </script>
</body>
</html></DOCUMENT>
